<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<form enctype="multipart/form-data">
			
		</form>
		<input type="file" id="upfile" onchange="upload()" />
		<img  id="res" style="width: 200px;" />
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<script>
			function upload(){
				console.log("wia")
				var file=document.getElementById("upfile");
				var upfile=file.files[0]
				var form=new FormData();
				form.append("upfile",upfile,upfile.name);
				form.append("title","文件上传");
				axios({
					method: 'post',
					url: 'upload.php',
					data: form,
					headers: {
						'Content-Type': 'multipart/form-data'
					},
				})
				.then(function(res) {
					document.getElementById("res").src=res.data.filename;
				})
			}
		</script>
	</body>
</html>
